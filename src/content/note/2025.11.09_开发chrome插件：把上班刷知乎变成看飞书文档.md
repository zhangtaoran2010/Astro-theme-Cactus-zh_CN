---
title: 开发Chrome插件：把上班刷知乎变成看飞书文档
description: 这是一篇有意思的文章
publishDate: 2025-11-09T21:37
---
# 作品展示

在本期的教程当中呢，我们将学会如何使用AI编写一个chrome插件。来将知乎的网页修改成为。更加容易阅读的网站。

![](/assets/images/image.png)

最终的效果是。当我们点击插件后。能够将网站修改成为我们指定的logo（目前是飞书云文档），以及修改成我们想要的标题！同时移除问答中的图片和侧边栏广告等元素让我们这个页面显得特别的清爽。

![](/assets/images/image-1-.png)

**3.1.1 安装扩展插件的框架**

对于我们编程新手而言，开发前最重要的是找到合适的框架，因为这样能够减少我们很多的工作量，并且这些框架也能够给到Al很好的一个上下文。这样我们就能够更好的，使用AI去开发我们的项目。

这边我们到Github上搜索关键字： chrome-extension-boilerplate，寻找我们想要的框架，

![](/assets/images/image-2-.png)

我这边帮大家尝试了排名靠前的几个框架，其中第3个 chrome-extension-boilerplate-react-vite 是最好的。点击 Code，把这个项目下载到本地。

![](/assets/images/image-3-.png)

解压并用Cursor打开这个项目

![](/assets/images/image-4-.png)

Cursor使用建议：这一步其实你可以先不看我们的教程。尝试在Cursor按下快捷键ctrl+i（Mac:command+i）打开 CHAT，@README.md文件询问我应该怎么运行这个框架，然后Cursor会详细的告诉你！不妨试一试！

![](/assets/images/image-5-.png)

在终端中安装并下载依赖，输入以下命令：

```
pnpm install 
```

什么是pnpm？

pnpm是一个类似npm的包管理工具，它有非常多好处，核心能够帮助你节省磁盘空间＋非常快的安装速度。

如果你的电脑上之前没有安装，可在pnpm官网上自行安装，因为这个项目是通过pnpm进行管理项目依赖的。

很简单，只需要输入以下命令即可安装：npm install -g pnpm@latest-10

Windows用户说明

如果你使用的是 Windows 电脑，现在需要启用 WSL，并且安装了 Linux 发行版。

![](/assets/images/image-6-.png)

接下来项目的依赖安装完成之后，就可以运行以下的命令起跑起来这个项目：

```
npm run dev
```

**3.1.2 将插件安装到Chrome中**

当你运行起来这个项目之后，你可以着到左侧的侧边栏中多出了一个目录：

chrome插件的目录文件，我们只需要把这个目录在chrome当中导入就行了。

/dist，该目录就是我们编译之后的

在浏览器右侧选择更多，然后点击【扩展程序】-【管理扩展程序】。

![](/assets/images/image-7-.png)

![]()

点击【加载已解压的扩展程序】，然后打开刚才说的 /dist 目录（注意需要点开 /dist 的目录，然后确认。）

![](/assets/images/image-8-.png)

加载成功之后，我相信你就会看到扩展程序里面多出了一个新的扩展！我们将这个新的扩展程序固定在我们浏览器的顶部，方便我们后续的使用。

![](/assets/images/image-9-.png)

我们就已经运行起来了，我们的chrome插件啦）！

**3.2 Chrome扩展开发：知乎主题修改**

我们现在来直接来上手改造知乎，具体的细节部分我们最后再来优化。

**3.3.1 修改页面的背景色**

首先我们尝试来修改一下背景色，来感受一下应该如何操作Chrome插件！

**在Curosr COMPOSER中输入提示词：**

```
@Popup.tsx 我希望在弹框中增加一个按钮，叫做修改知乎样式，点击后，能够将页面背景色变成粉色。
```

![](/assets/images/image-10-.png)

让我们来调试一下这个页面，可以看到Cursor给这个弹框增加了一个按钮，并且点击之后确实也成功的修改了样式！完美

![](/assets/images/image-11-.png)

**3.3.2 修改Logo**

接下来我们就进入到是实战部分。Chrome插件的核心是能够去操作这个网页上的所有元素，所以说我们这边首先需要找到知乎的Logo在哪里，然后告诉AI！

**Chrome插件开发重要建议：**

在chrome插件开发当中，去理解网页的元素，然后实现修改是非常重要的，这一步的核心是HTML的基础知识！

如果说你掌握了一定的HTML知识的话是最好的！如果没有的话。请认真的看我的视频去学习，学习怎么样去找到一个元素？

接下来呢，我们去找到这个知乎的logo是这个svg。

![](/assets/images/image-12-.png)

右键选择，然后点击复制selector，记得保存这个元素的路径，这个路径是让Ai去替换logo图片的关键！

![](/assets/images/image-13-.png)

之后我们同样可以去获取到飞书的logo地址，同样也是一个svg，点击复制元素。复制我们的整个元素

![](/assets/images/image-14-.png)

然后在Cursor当中输入以下的提示词，告诉Cursor修改知乎的logo：

```
@Popup.tsx 现在我们来完成修改知乎logo的操作：

1. 用户点击修改知乎样式后，将 #root > div > div:nth-child(2) > header > div.AppHeader-inner.css-11p8nt5 > a > svg这个logo，修改成为<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-icon="LarkLogoColorful"><path d="m12.924 12.803.056-.054c.038-.034.076-.072.11-.11l.077-.076.23-.227 1.334-1.319.335-.331c.063-.063.13-.123.195-.183a7.777 7.777 0 0 1 1.823-1.24 7.607 7.607 0 0 1 1.014-.4 13.177 13.177 0 0 0-2.5-5.013 1.203 1.203 0 0 0-.94-.448h-9.65c-.173 0-.246.224-.107.325a28.23 28.23 0 0 1 8 9.098c.007-.006.016-.013.023-.022Z" fill="#00D6B9"></path><path d="M9.097 21.299a13.258 13.258 0 0 0 11.82-7.247 5.576 5.576 0 0 1-.731 1.076 5.315 5.315 0 0 1-.745.7 5.117 5.117 0 0 1-.615.404 4.626 4.626 0 0 1-.726.331 5.312 5.312 0 0 1-1.883.312 5.892 5.892 0 0 1-.524-.031 6.509 6.509 0 0 1-.729-.126c-.06-.016-.12-.029-.18-.044-.166-.044-.33-.092-.494-.14-.082-.024-.164-.046-.246-.072-.123-.038-.247-.072-.366-.11l-.3-.095-.284-.094-.192-.067c-.08-.025-.155-.053-.234-.082a3.49 3.49 0 0 1-.167-.06c-.11-.04-.221-.079-.328-.12-.063-.025-.126-.047-.19-.072l-.252-.098c-.088-.035-.18-.07-.268-.107l-.174-.07c-.072-.028-.141-.06-.214-.088l-.164-.07c-.057-.024-.114-.05-.17-.075l-.149-.066-.135-.06-.14-.063a90.183 90.183 0 0 1-.141-.066 4.808 4.808 0 0 0-.18-.083c-.063-.028-.123-.06-.186-.088a5.697 5.697 0 0 1-.199-.098 27.762 27.762 0 0 1-8.067-5.969.18.18 0 0 0-.312.123l.006 9.21c0 .4.199.779.533 1a13.177 13.177 0 0 0 7.326 2.205Z" fill="#3370FF"></path><path d="M23.732 9.295a7.55 7.55 0 0 0-3.35-.776 7.521 7.521 0 0 0-2.284.35c-.054.016-.107.035-.158.05a8.297 8.297 0 0 0-.855.35 7.14 7.14 0 0 0-.552.297 6.716 6.716 0 0 0-.533.347c-.123.089-.243.18-.363.275-.13.104-.252.211-.375.321-.067.06-.13.123-.196.184l-.334.328-1.338 1.321-.23.228-.076.075c-.038.038-.076.073-.11.11l-.057.054a1.914 1.914 0 0 1-.085.08c-.032.028-.063.06-.095.088a13.286 13.286 0 0 1-2.748 1.946c.06.028.12.057.18.082l.142.066c.044.022.091.041.139.063l.135.06.149.067.17.075.164.07c.073.031.142.06.215.088.056.025.116.047.173.07.088.034.177.072.268.107.085.031.168.066.253.098l.189.072c.11.041.218.082.328.12.057.019.11.041.167.06.08.028.155.053.234.082l.192.066.284.095.3.095c.123.037.243.075.366.11l.246.072c.164.048.331.095.495.14.06.015.12.03.18.043.114.029.227.05.34.07.13.022.26.04.389.057a5.815 5.815 0 0 0 .994.019 5.172 5.172 0 0 0 1.413-.3 5.405 5.405 0 0 0 .726-.334c.06-.035.122-.07.182-.108a7.96 7.96 0 0 0 .432-.297 5.362 5.362 0 0 0 .577-.517 5.285 5.285 0 0 0 .37-.429 5.797 5.797 0 0 0 .527-.827l.13-.258 1.166-2.325-.003.006a7.391 7.391 0 0 1 1.527-2.186Z" fill="#133C9A"></path></svg>这个logo。

2. 在logo旁边添加一个文字：飞书云文档

3. 移除刚才修改为粉色背景的操作，刚才只是作为测试使用
```

![](/assets/images/image-15-.png)

现在你点击之后就能查看到，知乎的logo被修改成了飞书云文档的logo！

![](/assets/images/image-16-.png)

**Git Commit提示**

**每测试完成一个功能，记得都提交一下代码哦！**

**3.3.3 修改知乎主题色**

现在我们来教大家如何修改一个网站的页面的主题色，因为我们看到虽然说修改了logo， 但是知乎按钮当中的蓝色也非常的打眼。特别是如果你想开发一个类似小红书或者b站的插件，他们的颜色就更加的显眼了！所以说修改页面的主题是可能是非常常见的需求。

![](/assets/images/image-17-.png)

那么这边呢，我准备将这个蓝色修改成为黑色。首先呢我们需要找到这个按钮的背景色的变量。

![](/assets/images/image-18-.png)

然后我们告诉Cursor进行相应的修改：

```
我希望将    --GBL01A: var(--MapInfo);这个变量修改成为黑色。
```

![](/assets/images/image-19-.png)

我们来进行一下测试，可以看到AI把主题色修改的非常的完美。是我想要的黑色

![](/assets/images/image-20-.png)

**Git Commit提示**

**每测试完成一个功能，记得都提交一下代码哦！**



**3.3.4 修改标题**



接下来呢，我就来准备修改知乎最显眼的标题部分了！这个标题在摸鱼的时候。如果被看到，简直太显眼包了！

![](/assets/images/image-21-.png)

同样核心还是找到这个标题的元素，这一次我们来用类名的方式来选择元素。复制这个：**QuestionHeader-title**

![](/assets/images/image-22-.png)

然后告诉Cursor，请输入以下的提示词：

```
请你将页面当中所有具有QuestionHeader-title 这个类名的元素里面的文本都修改成为 xxx项目文档。
```

![](/assets/images/image-23-.png)

让我们来测试一下效果简直完美！

![](/assets/images/image-24-.png)

**Git Commit提示**

**每测试完成一个功能，记得都提交一下代码哦！**

**3.3.5 专注模式：隐藏页面的多余元素**

![](/assets/images/image-25-.png)

在浏览知乎的问题的时候，顶部Header这两个元素以及侧边栏也显得非常的打眼。我希望也能够进行隐藏掉，能够把我们的网站变成一个类似于专注模式的网站。

同样按照之前的办法，我们找到这两个元素。并且复制他们的页面选择器，然后把他们的选择器的地址告诉Cursor，让它来帮我们修改。

```
请你帮我同时移除掉.QuestionHeader-side和.Question-sideColumn这两个元素
```

测试一下！是的，刚才的这两个元素就被隐藏掉了！达到了我们想要的效果。

![](/assets/images/image-26-.png)

但是目前中间的内容太窄了，我想宽一点，同样的我们也可以告诉Cursor来帮我进行修改。

```
请你将.Question-mainColumn的宽度，修改成为100%
```

我们来测试一下，效果完美！！！

![](/assets/images/image-27-.png)

**Git Commit提示**

**每测试完成一个功能，记得都提交一下代码哦！**

**3.3.6 隐藏回答中的图片**

但是我发现在浏览问题当中的时候。知乎当中的图片，有时候也会影响我摸鱼。那么这一步我们来教大家如何使用ai来隐藏知乎答案中的图片！

![](/assets/images/image-28-.png)

首先我们找到这个页面当中的问答块是通过这个问题的 **.AnswerItem** 元素进行循环得到的，那么我们只需要告诉Cusor，让它帮我们把这些元素当中的所有图片和视频都把我们隐藏掉。

![](/assets/images/image-29-.png)

**提示词：**

```
请你将页面当中的所有.AnswerItem元素下的视频和图片都帮我隐藏掉。
```

我测试通过之后发现确实 Cursor将现在所有元素下的视频和图片都隐藏了！



但是有一个问题就是数据是懒加载的，如果我们加载下滑，滚动下载了更多的数据，那么此时图片还是依旧在的，这边我们还需要去点击一下，所以说我希望让Cursor帮我成为就是能够去每秒去轮询隐藏图片和视频。这样一旦我加载了新的回答之后，我就不用每次都去点一下了。

```
@Popup.tsx 非常好，但是现在有一个问题就是图片和视频会在之后的新加载的数据里面依旧显示，所以我每次都要去点击一下按钮，是否可以将隐藏.AnswerItem元素下的视频和图片的操作都帮我作为轮训的方式隐藏，每秒执行一次
```

完美之后我再尝试加载新的问题的时候。后台都会自动的将视频和图片都给隐藏掉！

![](/assets/images/image-30-.png)

**3.3 复制知乎所有答案，给AI总结**

现在我们所有的修改都是操作的 **pages/popup/src/Popup.tsx** 这个弹框文件。我相信你见过很多的chrome插件是可以直接在当前的网页，去增加样式和添加元素的。

![](/assets/images/image-31-.png)

这个时候我们就要去使用Chrome原生的支持的Content Scripts。他可以让我们直接访问和操作当前网页的HTML！

下面我们来尝试实现一个功能，在页面当中增加一个悬浮在页面右下角的复制答案按钮。

用户点击这个按钮后，就可以复制当前页面加载的所有答案，那么我们就可以把答案丢给 DeepSeek等AI工具，来帮我们进行相应的总结，这是一个非常实用的功能！我们需要修改的文件是：**pages/content/src/index.ts**

```
@index.ts 在页面当中增加一个悬浮的按钮，按钮的文案是复制答案，用户点击复制答案这个按钮之后，复制页面中所有的.AnswerItem元素的文本内容到剪贴板当中！
```

让我们测试一下，点击之后确实有提示复制内容到了剪贴板！

![](/assets/images/image-32-.png)

然后交给DeepSeek实现总结，可以看到，这个复制粘贴功能确实是可用的！

![](/assets/images/image-33-.png)

**3.4 实现类似Kimi、豆包一样的侧边栏功能**

**3.4.1 Kimi侧边栏效果**

相信大家目前使用到的很多AI浏览器插件，UI形式都是通过这样的网页侧边栏的形式，不管是Kimi还是豆包。这是一个目前非常通用的展示形式。

![](/assets/images/image-34-.png)

那么我们安装的这个插件扩展是否能够实现类似的功能呢？答案当然是可以的，现在我们来操作我们的第3个文件：**pages/side-panel/src/SidePanel.tsx** 。当你修改这个文件， 就能实现类似的效果。目前你可以右键点击插件的icon，来打开侧边栏。

![](/assets/images/image-35-.png)

**3.4.2 AI 修改側边栏**

让我们来实现一个功能，就是刚才我们页面上所复制的答案。能够在当前的侧边栏进行显示，并且是逐条显示的方式。这边我们来告诉Cursor。

```
@SidePanel.tsx 让我们来修改这个侧边栏。当我们在 @index.ts 中点击复制答案的时候，我希望将我们复制的所有答案的内容不只是粘贴到剪贴板当中，并且还在侧边栏当中进行显示，而且我希望是逐条显示的一个效果。
```

**Cursor知识点：**

**当我们需要修改相关的文件时，如果页面之间有关联，最好将相关的文件都@ 上，这样AI能更好地知道怎么进行修改！**

**例如在刚才提示词当中，点击复制答案是在3.3修改的pages/content/src/index.ts 文件，側边栏的样式是在 pages/sidepanel/src/SidePanel.tsx，我们最好都进行@，这样能够最大限度的保证ai生成的一个效果！**

让Cursor改完之后我们来测试一下：效果非常非常的好！！！

![](/assets/images/image-36-.png)

项目核心相关的配置都是在**chrome-extension/manifest.js** 和 **packages/i18n/locales/en/messages.json** 这两个文件当中。

**3.5 优化Chrome插件**

**目前我们这个插件的核心功能就已经开发完了，实现了在Chrome插件弹框中操作，并且在页面中增加了元素能够复制页面的所有答案，而且还增加了一个侧边栏的功能。**



但是目前的插件还是有很多细节的问题，比如说：

1. 插件的名字+logo没有进行修改

2. 弹框有很多多余的样式

3. 当前的插件在非知乎的页面也显示了

4. 现在新打开tab也是这个插件

这一个小结，我们就来逐一解决这些问题。

**3.5.1 修改插件的名字/logo/描述**

我们来选择一个合适的logo，这边可以去iconfont上面找，我选择的是这个[萌宠图标合集](https://www.iconfont.cn/collections/detail?spm=a313x.home_index.i1.dfa9d9a29.58a33a81uOx4cD&cid=51002)的田园犬。

![](/assets/images/image-37-.png)

分别下载尺寸38和128的，并修改成为 **icon-34.png** 和 **icon-128.png**。然后在 **chrome-extension/public** 中替换之前的图片。

![](/assets/images/image-38-.png)

刷新一下我们的浏览器的插件就已经变成我们可爱的田园犬的形象了。

![](/assets/images/image-39-.png)

接下来，我们我们告诉Cursor去修改插件名称，**@manifest.js** 这个文件。核心的插件文件配置都是在这个文件里面！

```
@manifest.js 修改插件的名字叫做： 小狗爱摸鱼
```

接下来需要修改一下这个插件的一个描述，**@packages/i18n/Locales/en/messages.json** 这个文件

```
@messages.json 修改这个插件的描述：用来一键对知乎进行换装，方便摸鱼！
```

记得点击刷新一下，就能看到我们插件的所有基础信息都改了！

![](/assets/images/image-40-.png)

**3.5.2 修改弹框的样式**

接下来我们来解决这个弹框样式的问题，目前这个弹框样式还是有一点丑，并且有很多多余的元素。我这边希望只保留修改知乎logo，并且将这个按钮修改力黑色。

![](/assets/images/image-41-.png)

同样我们需要告诉Cursor相关的修改。

```
@Popup.tsx 修改这个弹框的样式，我希望这个按钮的名称修改为。修改知乎样式，并且移除其他所有的元素，我目前只希望这个弹框里面有这么一个按钮 + 我们的logo。logo使用：chrome-extension/public/icon-128.png
```

测试一下，看到我们的浏览器的弹框确实发生了变化，很好！

![](/assets/images/image-42-.png)

**3.5.3 限制插件只在知乎显示**

**提示词：**

```
@manifest.js 我希望这个插件目前只在知乎的问答的详情页才进行显示，目前的详情页的链接如下：@https://www.zhihu.com/question/390635068 。最后一个id可能会发生变化，所以说我希望你修改一下相关的权限，其他的网页都不要显示该插件！
```

你可以测试一下，你会发现其他网站上确实就不再显示我们的插件了。Cursor主要改的是这几行代码，这边大家可以学习一下。如果你是做其他网站的权限修改，那么也是在这里修改。

**mainfest.js:**

```
{
  content_scripts: [
    {
      matches: ['*://*.zhihu.com/question/*'],
      js: ['content/index.iife.js'],
    },
    {
      matches: ['*://*.zhihu.com/question/*'],
      js: ['content-ui/index.iife.js'],
    },
    {
      matches: ['*://*.zhihu.com/question/*'],
      css: ['content.css'],
    },
  ]
}

```

**3.5.4 移除不必要的功能**

之后你可能会发现页面的底部现在有一个插件的样式，那么这部分的样式是这个工具优秀的一点。它提供了 **content ui** 这个目录，通过React去编写网站上的复杂样式的能力， 但是我们这个插件没有用到，所以我们可以将其移除掉。

**manifest.js:**

```
  content_scripts: [
    {
      matches: ['http://*/*', 'https://*/*', '<all_urls>'],
      js: ['content/index.iife.js'],
    },
    // {
    //   matches: ['http://*/*', 'https://*/*', '<all_urls>'],
    //   js: ['content-ui/index.iife.js'],
    // },
    {
      matches: ['http://*/*', 'https://*/*', '<all_urls>'],
      css: ['content.css'], // public folder
    },
  ],
```

**知识点说明:**

**如果说你的chrome插件是需要在网页上有很多复杂的操作以及显示效果，那么就需要用到 content-ui 。这样编写相关的代码/样式/页面交互会方便很多。**

![](/assets/images/image-43-.png)

**提示词：**

```
这边我没有使用到 @content-ui ，是否能够通过相关的配置将它移除掉？目前在底部有一个样式，我是不需要的。
```

你可以测试一下，应该底部的样式就被彻底的移除了！

**！发现视频漏讲了一个点，关于新增tab页面给注释掉，在 manifest.js 中找到这行页面，注释掉就好。**

• 移除新增tab功能：

```
  // chrome_url_overrides: {
  //   newtab: 'new-tab/index.html',
  // },
```

**3.6 构建和发布Chrome插件**

**3.6.1 构建生产包**

虽然目前插件其实你就已经可以正常的使用了，但是如果说你想分享并上架Chrome应用商店的话，那需要构建成生产的包，那么这一步我们来实现生产环境的构建。

**桯序员知识点：开发时npm run dev阶段的代码一般都是不能直接！上线前我们需要构建成为生产包，让代码进行压缩，让运行的更快！**

让我们打开命令行输入以下的命令进行构建：

```
npm run build
```

构建成功之后，依然是**dist**目录，那么这个包我们就可以用来上架Chrome应用商店。或者是直接转给我们的朋友进行一个使用。

![](/assets/images/image-44-.png)

**3.6.2 上架Chrome应用商店**

你可以参考[《官方文档：在Chrome应用商店中发布》](https://developer.chrome.com/docs/webstore/publish?hl=zh-cn)，实现你的第1个Chrome插件上架 Chrome应用商店。Chrome插件基本上是除了网站之外，上线最简单！对新手最友好的一个应用了！而且价格也很便宜，只需要5美金。

![](/assets/images/截屏2025-11-10-14.03.12.png)
